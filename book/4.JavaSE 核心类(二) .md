# JavaSE 核心类(二)

## Java 异常处理机制

Java 异常结构中定义 Throwable 类， Exception 和 Error 是其派生的两个子类

* `Exception` 表示程序级别的异常，如网络故障、文件损坏、设备错误、用户输入非法。可控，所以我们关注的是 `Exception` 的相关子类。

* `Error` 表示系统级别的异常，即， Java 运行时环境出现的错误。不可控。

异常处理的方法：

### try{} catch(Exception e){}  处理异常

```java
String name = null;
try {
    System.out.println(name.length());
} catch (Exception e) {
    System.out.println("出错了");
}
```

### throw 抛出异常

调用方法出现错误时，不该自己解决，而是通知调用方法去解决，会将这个错误通过 `throw` 告知外界。

```java
throw new RuntimeException("出错了");
```

**注意：如何判断异常该自己处理还是抛出？**

方法通常有参数，若因参数的错误而引发的异常应抛出，若方法本身的原因应该自己处理。

### throws 强制捕获异常

声明方法时，同时声明可能抛出的异常，要求调用者强制捕获异常。

```java
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;

public class Test {
    public static void main(String[] args) {
        //调用string2Date()时捕获ParseException异常
        try {
            System.out.println(string2Date("2012"));
        } catch (ParseException e) {
            //同控制台输出栈信息
            e.printStackTrace();
            System.out.println("日期格式错误");
        }
    }

    //throws调用方法时强制捕获异常
    public static Date string2Date(String str) throws ParseException {
        SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
        return sdf.parse(str);
    }
}
```